```jsx
import Form from "../../yimi-form/src/components/Form/Form";
import FormItem from "../../yimi-form/src/components/FormItem/FormItem";
import Core from "../../yimi-form/src/core/core";
import { Input, Checkbox, Table, Select } from "../../yimi-components-antd-v4/";
import { Button, Divider } from "antd";
import { ArrayList, ArrayAction } from "../src/";
import "../../yimi-form/src/index.less";
import "./index.less";
import "antd/dist/antd.css";
import "../../yimi-components-antd-v4/src/index.less";

class FormDemo extends React.Component {
  constructor(props) {
    super(props);
    this.core = new Core({
      onChange: ([key], val, core) => {
        console.log(key, val, core);
      },
    });
    this.dataSource = [];
    for (let i = 0; i < 5; i++) {
      this.dataSource.push({
        id: "haha" + i,
        name: "胡彦斌" + i,
        age: 32 + i,
        address: "西湖区湖底公园1号",
        normalItem: "正常数据",
      });
    }
  }
  render() {
    return (
      <div className="wrapper">
        <Form core={this.core} inline>
          <FormItem
            name="arrayList"
            label="arrayList"
            defaultValue={this.dataSource}
          >
            <ArrayList
              rowKey="id"
              rowCoreConfig={{
                values: { defaultValue: "init" },
              }}
              bottom={
                <ArrayAction>
                  {({ addBottom, addTop }) => (
                    <div>
                      <Button
                        onClick={() =>
                          addBottom((core) => {
                            core.setValues({
                              name: "林俊杰",
                            });
                          })
                        }
                      >
                        底部添加
                      </Button>
                      <Button
                        onClick={() =>
                          addTop((core) => {
                            core.setValues({
                              name: "林俊杰",
                            });
                          })
                        }
                      >
                        顶部添加
                      </Button>
                      <Button
                        onClick={() =>
                          this.core.validate().then((err) => {
                            console.log(err);
                          })
                        }
                      >
                        校验
                      </Button>
                    </div>
                  )}
                </ArrayAction>
              }
            >
              <h3>You can put content anywhere</h3>
              <FormItem
                name="name"
                label="name"
                validateConfig={{ required: true }}
              >
                <Input />
              </FormItem>
              <FormItem
                name="defaultValue"
                label="defaultValue"
                validateConfig={{ required: true }}
              >
                <Input />
              </FormItem>
              <FormItem name="age" label="age">
                <Input />
              </FormItem>
              <FormItem name="address" label="address">
                <Input />
              </FormItem>
              <FormItem
                view={(core, id) => (
                  <ArrayAction>
                    {({ insertBefore, insertAfter, remove }) => {
                      return (
                        <div>
                          <Button
                            onClick={() => {
                              insertBefore(id, (core) => {
                                core.setValues({
                                  name: "吴彦祖",
                                });
                                core.forceUpdate();
                              });
                            }}
                          >
                            顶部添加
                          </Button>
                          <Button
                            onClick={() => {
                              insertAfter(id, (core) => {
                                core.setValues({
                                  name: "吴彦祖",
                                });
                              });
                            }}
                          >
                            底部添加
                          </Button>
                          <Button
                            onClick={() => {
                              remove(id, (core) => {
                                console.log(core.getValues());
                              });
                            }}
                          >
                            删除
                          </Button>
                          <FormItem
                            view={(core) => (
                              <Button onClick={() => core.validate()}>
                                按行校验
                              </Button>
                            )}
                          />
                          <FormItem
                            view={(core) => {
                              return (
                                <Button
                                  onClick={() => {
                                    core.setGlobalStatus("edit");
                                  }}
                                >
                                  编辑
                                </Button>
                              );
                            }}
                          />
                          <FormItem
                            view={(core) => {
                              return (
                                <Button
                                  onClick={() => {
                                    core.setGlobalStatus("preview");
                                  }}
                                >
                                  保存
                                </Button>
                              );
                            }}
                          />
                          <FormItem
                            view={(core) => {
                              return (
                                <Button
                                  onClick={() => {
                                    core.reset(
                                      Object.keys(core.getValues()).filter(
                                        (key) => key !== "id"
                                      )
                                    );
                                  }}
                                >
                                  重置
                                </Button>
                              );
                            }}
                          />
                        </div>
                      );
                    }}
                  </ArrayAction>
                )}
              />
              <Divider>分割线</Divider>
            </ArrayList>
          </FormItem>
        </Form>
        <Button
          onClick={() => {
            this.core.setGlobalStatus("preview");
          }}
        >
          预览
        </Button>
        <Button
          onClick={() => {
            this.core.setGlobalStatus("edit");
          }}
        >
          编辑
        </Button>
      </div>
    );
  }
}
ReactDOM.render(<FormDemo />, mountNode);
```
